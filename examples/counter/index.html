<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <title>Eyebrow â€¢ Counter</title>
  </head>
  <body>
    <div id="counter"></div>
    <button onclick="Counter('increment')">+</button>
    <button onclick="Counter('decrement')">-</button>

    <script src="../../eyebrow.js" type="text/javascript"></script>
    <script type="text/javascript">
      var Counter = new Eyebrow();

      var CounterView = function(store, counter) {
        this.increment = function(store) {
          return Object.assign({}, store, { [counter]: (store[counter] || 0) + 1 });
        };
        this.decrement = function(store) {
          return Object.assign({}, store, { [counter]: (store[counter] || 0) - 1 });
        };

        Counter.render('counter', '#counter', { name: counter, time: store[counter] || 0 });
      };

      Counter(function() {
        Counter.route(/\/(.*)$/, CounterView);
        Counter.template('counter', function(data) {
          return '<h1>' + data.name + '</h1><h2>' + data.time + '</h2>';
        });
        return {};
      });
    </script>
  </body>
</html>
